<!doctype html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="description" content="">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Interest in Video Games</title>

    <!-- CSS LIBRARIES -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">

    <!-- YOUR CSS -->
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="css/vis1_donut.css">
    <link rel="stylesheet" href="css/stream_graph_style.css">
    <link rel="stylesheet" href="css/vis3_wallet.css">

</head>
<body>

<div class="content">

    <!--    nav bar     -->
    <header>
        <div class="navbar">
            <a class="navbar-brand" href="#">
                <img src="./images/Hamburger_icon.png" alt="navigation opener">
            </a>

            <div class="expanded-nav">
                <ul>
                    <li><a href="#">Start Menu</a></li>
                    <li><a href="#">Our Players</a></li>
                </ul>
            </div>
        </div>

        <div class="sidenav">
            <ul id="sidenav-list">
<!--                <li><a href="#">&middot</a></li>-->
            </ul>
        </div>
    </header>

    <!--  Landing page  -->
    <div class="page bg-image retro-tv d-flex justify-content-center align-items-center">

        <div class="title">
            <h1>The Video Games We Play</h1>
            <h2>Press start to learn more</h2>
            <div class="start-button">
                <button onclick="window.scrollTo(0, screen.height);" value="Go to main page">Start</button>
            </div>
        </div>

    </div>

    <!--  Vis 0  -->
    <div id="q0-container" class="page vis bg-image retro-game-grid d-flex flex-column justify-content-center align-items-center">
        <div class="d-flex justify-content-center align-items-center">
            <div class="question" id="q0">
                <h2>What's your favorite game genre?</h2>

                <div class="answer">
                    <label for="q0-answer-combo"></label>
                    <input type="text" id="q0-answer-combo" list="genreList" placeholder="Select your genre here!">

                    <datalist id="genreList">
                        <option value="RPG"></option>
                        <option value="Survival"></option>
                        <option value="Strategy"></option>
                        <option value="Sandbox"></option>
                    </datalist>
                    <input id="q0-interaction" type="submit" value="Submit">
                </div>
            </div>

            <div class="d-flex justify-content-center align-items-center">
                <div class="response" id="q0-a0">
                    Hmm... your favorite game genre may not be amongst <br>the most popular genres in recent years.
                    You've got some esoteric taste!
                    <br>
                    See what everyone else is playing below!
                </div>
                <div class="response" id="q0-a1">
                    Wow! |X| genre is one of the most popular genres in recent years.
                    See for yourself!
                </div>
            </div>

            <div id="spacer0"></div>
            <img id="gameboy-img" src="./images/gameboys.png" alt="game boys">
        </div>
    </div>

    <div id="vis0">
        <div class="page vis bg-image retro-game-grid d-flex flex-column justify-content-center align-items-center" style="display: none;">
            <div class="container">
                <h1>How have popular genres changed from 2010-2023?</h1>
                <p class="subtitle">Top Steam game genres by total reviews</p>

                <div class="controls">
                    <label for="genre-slider">
                        <strong>Number of Genres:</strong>
                        <span id="genre-count">7</span>
                    </label>
                    <input type="range" id="genre-slider" min="5" max="10" value="7" step="1">
                    <span class="control-hint">Move slider to update visualization</span>
                </div>

                <div id="chart-container">
                    <svg id="chart"></svg>
                </div>

                <div class="info-box">
                    <h3>About This Visualization</h3>
                    <p><strong>What you're seeing:</strong> Each colored stream represents one of the top game genres on Steam (dynamically calculated from the data). The height of each stream shows that genre's relative share of total reviews for each year. Use the slider above to adjust how many genres (5-10) you want to visualize - it updates automatically when you release the slider.</p>

                    <p class="note">
                        <strong>üñ±Ô∏è How to interact:</strong>
                    </p>
                    <ul style="margin-top: 5px; color: #555;">
                        <li><strong>Adjust slider</strong> to change the number of genres displayed (5-10) - visualization updates automatically when you release</li>
                        <li><strong>Hover</strong> over any section to see detailed genre stats: percentage share, total reviews, average review score, and estimated revenue for that year</li>
                        <li><strong>Click</strong> on any section to view the top 10 games for that genre in that specific year</li>
                        <li><strong>Click on a game</strong> in the table to see its complete details including tags, pricing, and more</li>
                    </ul>

                    <p class="note" style="margin-top: 15px;">
                        Data source: Steam game reviews (2010-2023). Visualization updates dynamically based on user interaction.
                    </p>
                </div>

                <div class="tooltip" id="tooltip"></div>

                <!-- Modal for Top Games -->
                <div id="game-modal" class="modal">
                    <div class="modal-content">
                        <span class="close" id="close-modal">&times;</span>
                        <h2 id="modal-title"></h2>
                        <div class="table-container">
                            <table id="games-table">
                                <thead>
                                <tr>
                                    <th>#</th>
                                    <th>Game Title</th>
                                    <th>Total Reviews</th>
                                    <th>Review Score</th>
                                    <th>Est. Revenue</th>
                                    <th>Launch Price</th>
                                </tr>
                                </thead>
                                <tbody id="games-table-body">
                                </tbody>
                            </table>
                        </div>
                        <p class="modal-hint">üí° Click on any game to see full details</p>
                    </div>
                </div>

                <!-- Game Detail Tooltip -->
                <div id="game-detail-tooltip" class="game-detail-tooltip"></div>
            </div>
        </div>

        <div class="page vis bg-image retro-game-grid d-flex flex-column justify-content-center align-items-center"
             style="height: 10rem;">
        </div>

    </div>

    <!--  Vis 1  -->
    <div id="vis1-page-wrapper" class="page vis bg-image retro-game-grid d-flex flex-column justify-content-center align-items-center">
        <h2>
            Even amongst the most popular genres though, <br>
            audiences tend to gravitate toward just a few popular titles.
        </h2>

        <!-- 3D Donut Chart Visualization -->
        <div id="vis1-wrapper">
            <div id="vis1-chart-container">
                <div id="vis1-main-chart">
                    <!-- Mini chart in top-right -->
                    <div id="vis1-mini-wrapper">
                        <div id="vis1-mini-chart"></div>
                        <div class="vis1-interaction-hint">
                            <span class="hint-icon">‚ü≥</span> 
                            <span class="hint-text">DRAG 2D CHART TO ROTATE</span>
                        </div>
                    </div>
                    
                    <!-- Bottom container with selector and guide side by side -->
                    <div id="vis1-bottom-container">
                        <!-- Controls/Selector on the left -->
                        <div id="vis1-controls"></div>
                        
                        <!-- Guide on the right -->
                        <div id="vis1-chart-guide">
                            <div class="vis1-guide-title">Chart Guide:</div>
                            <div class="vis1-guide-item">
                                <strong>Sector Angle:</strong> Proportion of total reviews
                            </div>
                            <div class="vis1-guide-item">
                                <strong>Segment Height:</strong> Review score out of 100
                            </div>
                        </div>
                    </div>
                </div>
                <div id="vis1-game-details"></div>
            </div>

            <!-- Tooltip containers -->
            <div class="vis1-tooltip vis1-tooltip-2d"></div>
        </div>
    </div>

    <!--  Vis 2  -->
    <div class="page vis bg-image retro-game-grid d-flex flex-column justify-content-center align-items-center">
        <h2>
            Not all games are created equal.
        </h2>

        <!-- TODO: Populate SVG -->
        <div style="display: flex; width: 100%; height: 100%;">
            <div style="width: 75%; height: 70%">
                <div id="vis2" style="width: 100%; height: 100%;">
                </div>
                <div class="slider-wrap" style="width: 100%; display: flex; align-items: center; justify-content: center; gap: 1rem; text-align: center;">
                    <label for="intSlider" style="font-size: 24px; font-family: 'gamepaused', sans-serif ">Number of Top Games To Show</label>
                    <input
                            id="intSlider"
                            type="range"
                            min="2"
                            max="100"
                            step="1"
                            value="10"
                            style="width: 80%"
                    />
                </div>
                <div style="font-size: 24px; font-family: 'gamepaused', sans-serif; text-align: center;">Showing the Top <span class="value" id="val">10</span> Games from Large and Indie Studios</div>
            </div>

            <div style="width: 25%; height: 70%; text-align: center; font-family: 'gamepaused', sans-serif; display: flex; align-items: center; justify-content: center;">
                <h3>Indie games tend to be lower priced and higher reviewed than large studio games.</h3>
            </div>
        </div>

    </div>
    

    <!--  Vis 3  -->
    <div id="vis3-page" class="page vis bg-image retro-game-grid d-flex flex-column justify-content-center align-items-center">
        <div id="vis3" class="wallet-visualization">
            <div id="vis3-title" class="vis3-title">
                <h2>Try picking out your dream games for your budget!</h2>
                <p id="vis3-status-text" class="vis3-status">Loading recommendations&hellip;</p>
            </div>

            <div class="vis3-controls">
                <div class="vis3-control">
                    <label for="vis3-genre-filter">Genre filter</label>
                    <select id="vis3-genre-filter">
                        <option value="all">All genres</option>
                    </select>
                </div>
                <div class="vis3-control">
                    <label for="vis3-score-slider">
                        Min. review score
                        <span id="vis3-score-value">80</span>
                    </label>
                    <input id="vis3-score-slider" type="range" min="40" max="95" value="80">
                </div>
                <div class="vis3-control">
                    <span>Popularity focus</span>
                    <div class="vis3-tier-buttons" role="group" aria-label="Review tier">
                        <button type="button" class="vis3-tier-btn active" data-tier="blockbuster">
                            Blockbuster<br><small>(5000+ reviews)</small>
                        </button>
                        <button type="button" class="vis3-tier-btn" data-tier="indie">
                            Indie<br><small>(500-4999)</small>
                        </button>
                        <button type="button" class="vis3-tier-btn" data-tier="sleeper">
                            Sleeper<br><small>(50-499)</small>
                        </button>
                    </div>
                </div>
            </div>

            <div class="vis3-wallet-area">
                <div id="vis3-bills" class="vis3-bills-layer" aria-live="polite"></div>
                <div class="vis3-wallet-base" aria-hidden="true"></div>
                <div id="vis3-tooltip"></div>
            </div>


        </div>
    </div>

    <div class="vis bg-image retro-game-grid d-flex justify-content-center align-items-center" style="padding: 60px 0; width: 100%;">
        
        <div class="start-button">
            <button id="restart-btn" style="background-color: white; color: black; padding: 0 3rem;">
                RESTART
            </button>
        </div>

    </div>

    <!--  About Us  -->
    <div class="page vis bg-image retro-game-grid d-flex flex-column justify-content-center align-items-center">
        <div class="vis about-parent bg-image d-flex flex-column justify-content-center align-items-center">
            <h2 class="about">
                Our Team
            </h2>
            <div class="about">
                <div>
                    <h3 class="player-label" style="color: red;">P1</h3>
                    <img class="circular-frame" src="./images/guy0.png" alt="team">
                    <h3>David Adler</h3>
                </div>
                <div>
                    <h3 class="player-label" style="color: blue;">P2</h3>
                    <img class="circular-frame" src="./images/guy1.png" alt="team">
                    <h3>Danyal Tairoski</h3>
                </div>
                <div>
                    <h3 class="player-label" style="color: yellow;">P3</h3>
                    <img class="circular-frame" src="./images/guy2.png" alt="team">
                    <h3>Minseok Jang</h3>
                </div>
                <div>
                    <h3 class="player-label" style="color: green;">P4</h3>
                    <img class="circular-frame" src="./images/guy3.png" alt="team">
                    <h3>Li Chenrui</h3>
                </div>
            </div>
        </div>
    </div>
</div>

<script>
    document.getElementById('restart-btn').addEventListener('click', function() {
        if ('scrollRestoration' in history) {
            history.scrollRestoration = 'manual';
        }

        window.scrollTo(0, 0);

        window.location.reload();
    });
</script>

<!-- embedding JS libraries -->

<!-- Bootstrap Bundle with Popper -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous"></script>

<!-- d3 -->
<script src="https://d3js.org/d3.v7.min.js"></script>

<!-- d3-3d library -->
<script type="module">
    import { triangles3D, planes3D } from 'https://cdn.skypack.dev/d3-3d@1.0.0';
    window.triangles3D = triangles3D;
    window.planes3D = planes3D;
</script>

<!-- js -->
<script src="js/sidenav.js"></script>
<script src="js/vis0_story.js"></script>
<script src="js/stream_graph.js"></script>
<script src="js/shopping-cart-vis.js"></script>
<script type="module" src="js/vis1_donut.js"></script>
<script src="js/vis3_wallet.js"></script>
<!--<script src="js/bar-chart-vis.js"></script>-->
<!--<script src="js/main.js"></script>-->

</body>
</html>
